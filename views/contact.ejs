<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="css/contact.css">
  <link rel="stylesheet" href="/styles/home.css">

</head>
<body>

    <%- include('partials/navbar', { user: user, isAuthenticated: isAuthenticated, currentPage: 'contact' }) %>
    <%- include('partials/language-script') %> 




<!-- Hero Section -->
<section class="position-relative text-white text-center d-flex align-items-center justify-content-center " 
         style="background: url('images/conatct-img.jpg') center/cover no-repeat; height: 350px; margin-top: 80px;">

  <!-- Overlay -->
  <div class="position-absolute top-0 start-0 w-100 h-100" 
       style="background-color: rgba(0,0,0,0.6);"></div>

  <!-- Content -->
  <div class="position-relative">
    <h1 class="fw-bold">Contact Us</h1>
    <p>
      <a href="#" class="text-white text-decoration-none">Home</a> 
      <span class="mx-2">&gt;</span> 
      <span>Contact Us</span>
    </p>
  </div>
</section>

<!-- Google Map -->
<section class="mt-4 mb-0" style="padding-bottom: 0;">
  <div class="container-fluid px-0">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3367.92219031749!2d74.29719457499655!3d35.92083797251774!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38e6f4a1f7db16eb%3A0x7a79da6b64b5f309!2sGilgit%2C%20Gilgit-Baltistan%2C%20Pakistan!5e0!3m2!1sen!2s!4v1692363761187!5m2!1sen!2s" 
      width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
  </div>
</section>

<!-- Contact Info and Form Section -->
<section class="container contact-section">
  <!-- Center Heading -->
  <div class="text-center mb-5">
    <h5 style="color: rgba(3, 73, 3, 0.788);"> <i>Contact Us</i></h5>
    <h1 class="fw-bold">Get In Touch</h1>
    <p class="mb-0">We are at your disposal 7 days a week!</p>
  </div>

  <div class="row g-4">
    <!-- Left Column -->
    <div class="col-lg-4">
      <!-- Store Location -->
      <div class="d-flex align-items-start mb-4">
        <div class="bg-light rounded p-3 me-3">
          <i class="bi bi-geo-alt fs-4 text-primary"></i>
        </div>
        <div>
          <h6 class="mb-1">Store Location</h6>
          <p class="mb-0">Shahrah e..., Quaid Azam Jutial, Gilgit-Baltistan, Pakistan.</p>
        </div>
      </div>

      <!-- Phone Number -->
      <div class="d-flex align-items-start mb-4">
        <div class="bg-light rounded p-3 me-3">
          <i class="bi bi-telephone fs-4 text-primary"></i>
        </div>
        <div>
          <h6 class="mb-1">Phone Number</h6>
          <p class="mb-0">0355 4692674<br>0355 5444102</p>
        </div>
      </div>

      <!-- Email -->
      <div class="d-flex align-items-start mb-4">
        <div class="bg-light rounded p-3 me-3">
          <i class="bi bi-envelope fs-4 text-primary"></i>
        </div>
        <div>
          <h6 class="mb-1">Email us</h6>
          <p class="mb-0">booking@themagpietreksandtour.com</p>
        </div>
      </div>

      <!-- Need Help Box -->
      <div class="border rounded p-3 help-box">
        <p class="text-success fw-bold mb-1"><i class="bi bi-chat-dots"></i> Need help?</p>
        <p class="mb-1">Call our product expert</p>
        <p class="text-success mb-2">0355 5444102</p>
        <a href="#" class="btn btn-outline-success btn-sm w-100 mb-2">Chat With Us</a>
        <small class="text-muted">Mon - Sun<br>7am - 11pm ET | 4am - 8pm PT</small>
      </div>
    </div>

    <!-- Right Column (Form) -->
    <div class="col-lg-8">
      <h4 class="mb-2">Leave A Reply</h4>
      <p class="text-muted mb-4">Your email address will not be published. Required fields are marked *</p>
      
      <form id="contactForm">
        <div class="row mb-3">
          <div class="col-md-6 mb-3 mb-md-0">
            <input type="text" id="contactName" class="form-control" placeholder="Name *" required>
          </div>
          <div class="col-md-6">
            <input type="email" id="contactEmail" class="form-control" placeholder="Email *" required>
          </div>
        </div>
        <div class="mb-3">
          <input type="text" id="contactSubject" class="form-control" placeholder="Subject">
        </div>
        <div class="mb-3">
          <textarea class="form-control" id="contactMessage" rows="5" placeholder="Comment" required></textarea>
        </div><button 
    id="contactSubmitBtn"
    type="submit" 
    class="btn px-5 d-inline-flex align-items-center gap-2" 
    style="padding: 15px; margin-top: 40px; color: white; background-color: rgba(3, 3, 56, 0.836); border: none;"
    onmouseover="this.style.backgroundColor='transparent'; this.style.color=' rgba(3, 3, 56, 0.836)'; this.style.border='1px solid black';"
    onmouseout="this.style.backgroundColor='rgba(3, 3, 56, 0.836)'; this.style.color='white'; this.style.border='none';"
>
    <span id="contactBtnText">Submit</span>
    <span id="contactSpinner" class="spinner-border spinner-border-sm" style="display:none" role="status" aria-hidden="true"></span>
</button>

      </form>
    </div>
  </div>
</section>



<div id="notificationContainer" style="position:fixed;top:20px;right:20px;z-index:1050"></div>

<script>
  function showNotification(type, title, message, duration = 4000) {
    const container = document.getElementById('notificationContainer');
    if (!container) return;
    const colors = {
      success: '#28a745',
      error: '#dc3545',
      warning: '#ffc107',
      info: '#17a2b8'
    };
    const note = document.createElement('div');
    note.style.cssText = `background:${colors[type]||'#17a2b8'};color:#fff;padding:12px 14px;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,.15);min-width:280px;max-width:360px;margin-top:10px`;
    note.innerHTML = `<div style="font-weight:600">${title}</div><div style="opacity:.95;font-size:.925rem">${message}</div>`;
    container.appendChild(note);
    setTimeout(()=>{ note.style.opacity='0'; note.style.transition='opacity .25s'; setTimeout(()=> note.remove(), 250); }, duration);
  }

  document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const name = document.getElementById('contactName').value.trim();
    const email = document.getElementById('contactEmail').value.trim();
    const subject = document.getElementById('contactSubject').value.trim();
    const message = document.getElementById('contactMessage').value.trim();

    if (!name || !email || !message) {
      showNotification('warning', 'Missing fields', 'Please fill in your name, email, and message.');
      return;
    }

    const btn = document.getElementById('contactSubmitBtn');
    const btnText = document.getElementById('contactBtnText');
    const spinner = document.getElementById('contactSpinner');
    btn.disabled = true; btnText.textContent = 'Sending...'; spinner.style.display = '';

    try {
      const response = await fetch('/api/contact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, email, subject, message })
      });
      const result = await response.json();
      if (response.ok) {
        showNotification('success', 'Message sent', 'Thanks! We will get back to you soon.');
        this.reset();
      } else {
        showNotification('error', 'Send failed', result.error || 'Failed to send message. Please try again later.');
      }
    } catch (err) {
      showNotification('error', 'Network error', 'Failed to send message. Please check your connection.');
    }
    btn.disabled = false; btnText.textContent = 'Submit'; spinner.style.display = 'none';
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>



